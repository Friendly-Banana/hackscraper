<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{url_for('.static', filename='style.css')}}">
    <title>Hackathons</title>
</head>
<style>
    .hackathon-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }

    .hackathon-card {
        padding: 20px;
        border-radius: 8px;
        background-color: #f8f8f8;
        display: flex;
        flex-direction: column;
    }

    .hackathon-image {
        max-width: 100%;
        height: 150px;
        object-fit: cover;
        border-radius: 4px;
        margin-bottom: 15px;
    }

    .admin-controls {
        display: flex;
        gap: 10px;
        margin-top: 15px;
    }

    .admin-button {
        padding: 8px 16px;
        background-color: #6c757d;
        color: white;
        text-decoration: none;
        border-radius: 4px;
        text-align: center;
    }

    .delete-button {
        background-color: #dc3545;
    }
</style>
<body>
<h1>Hackathons</h1>

<div class="actions">
    <a href="/add_hackathon">Add Hackathon</a>
    <a href="/scrapers">View Scrapers</a>
    <a href="/add_scraper">Add Scraper</a>
    <a href="/suggestions">View Suggestions</a>
</div>

{% if hackathons %}
<div class="hackathon-grid">
    {% for hackathon in hackathons %}
    <div class="hackathon-card">
        {% if hackathon.image %}
        <img src="{{ hackathon.image }}" alt="{{ hackathon.name }}" class="hackathon-image">
        {% endif %}
        <div class="card-header">
            <h3 class="card-title">{{ hackathon.name }}</h3>
            <div class="card-metadata">
                <div>üìÖ {{ hackathon.date }}</div>
                <div>üìç {{ hackathon.location }}</div>
            </div>
        </div>
        <div class="card-description">
            {{ hackathon.description }}
        </div>
        <div class="admin-controls">
            <a href="/edit_hackathon/{{ hackathon.id }}" class="admin-button">Edit</a>
            <form action="/hackathon/{{ hackathon.id }}/delete" method="POST" style="display: inline;">
                <button type="submit" class="admin-button delete-button" onclick="return confirm('Are you sure you want to delete this hackathon?')">Delete</button>
            </form>
            <a href="{{ hackathon.url }}" class="card-link" target="_blank">Visit Website</a>
        </div>
    </div>
    {% endfor %}

</div>
{% else %}
<p>No hackathons found.</p>
{% endif %}

</body>
</html>